<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meshtastic Traceroute Demo</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center; margin-bottom: 30px; }
        .network-topology { background: white; border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0; }
        .stat-item { background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .stat-label { font-weight: 500; color: #6c757d; }
        .stat-value { font-weight: 700; color: #2c3e50; font-size: 1.1rem; }
        .topology-chart { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .modern-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .modern-table th { background: #2c3e50; color: white; padding: 12px; text-align: left; }
        .modern-table td { padding: 10px; border-bottom: 1px solid #e9ecef; }
        .modern-table tr:hover { background: #f8f9fa; }
        .success { color: #27ae60; font-weight: bold; }
        .danger { color: #e74c3c; font-weight: bold; }
        .warning { color: #f39c12; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-project-diagram"></i> Meshtastic Traceroute Demo</h1>
            <p>Network Topology Analysis & Route Visualization</p>
        </div>
        
        <div class="network-topology">
            <h3><i class="fas fa-chart-line"></i> Network Topology Analysis</h3>
<div class="network-topology">
<h3><i class="fas fa-project-diagram"></i> Route Analysis & Network Map</h3>
<div class="topology-stats">
<h4><i class="fas fa-chart-line"></i> Route Statistics</h4>
<div class="stats-grid">
  <div class="stat-item">
    <span class="stat-label">Total Routes Traced:</span>
    <span class="stat-value">9</span>
  </div>
  <div class="stat-item">
    <span class="stat-label">Successful Routes:</span>
    <span class="stat-value">8</span>
  </div>
  <div class="stat-item">
    <span class="stat-label">Route Success Rate:</span>
    <span class="stat-value">88.8%</span>
  </div>
</div>
</div>
<div class="topology-visualization">
<h4><i class="fas fa-project-diagram"></i> Network Topology Map</h4>
<div class="chart-container">
<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node { fill: #4ECDC4; stroke: #2c3e50; stroke-width: 2; }
      .hub-node { fill: #FF6B6B; }
      .edge { stroke: #666; stroke-width: 2; opacity: 0.7; }
      .node-label { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
    </style>
  </defs>
  
  <title>Meshtastic Network Topology</title>
  
  <!-- Background -->
  <rect width="600" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold">
    Meshtastic Network Topology
  </text>
  
  <!-- Edges -->
  <line x1="199.99999999999991" y1="126.79491924311233" x2="500.0" y2="300.0" class="edge"/>
  <line x1="199.99999999999991" y1="126.79491924311233" x2="400.0" y2="126.79491924311228" class="edge"/>
  <line x1="199.99999999999991" y1="126.79491924311233" x2="400.0" y2="473.2050807568877" class="edge"/>
  <line x1="500.0" y1="300.0" x2="100.0" y2="300.0" class="edge"/>
  <line x1="500.0" y1="300.0" x2="400.0" y2="473.2050807568877" class="edge"/>
  <line x1="100.0" y1="300.0" x2="200.00000000000006" y2="473.20508075688775" class="edge"/>

  <!-- Nodes -->
  <circle cx="500.0" cy="300.0" r="15" class="hub-node"/>
  <text x="500.0" y="325.0" class="node-label">Repeater Central (RPTC)</text>
  <circle cx="400.0" cy="473.2050807568877" r="10" class="node"/>
  <text x="400.0" y="498.2050807568877" class="node-label">TRUTZTURM Solar (TRZS)</text>
  <circle cx="200.00000000000006" cy="473.20508075688775" r="10" class="node"/>
  <text x="200.00000000000006" y="498.20508075688775" class="node-label">Mobile Station (MOBL)</text>
  <circle cx="100.0" cy="300.0" r="10" class="node"/>
  <text x="100.0" y="325.0" class="node-label">DL0TRZ Trutzturm (TRZT)</text>
  <circle cx="199.99999999999991" cy="126.79491924311233" r="15" class="hub-node"/>
  <text x="199.99999999999991" y="151.79491924311233" class="node-label">Relay Node 1 (RLY1)</text>
  <circle cx="400.0" cy="126.79491924311228" r="10" class="node"/>
  <text x="400.0" y="151.79491924311228" class="node-label">4818</text>

  <!-- Legend -->
  <rect x="20" y="500" width="150" height="80" fill="white" stroke="#ccc" stroke-width="1"/>
  <text x="25" y="515" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Legend:</text>
  <circle cx="35" cy="530" r="8" class="hub-node"/>
  <text x="50" y="535" font-family="Arial, sans-serif" font-size="10">Hub Nodes</text>
  <circle cx="35" cy="550" r="6" class="node"/>
  <text x="50" y="555" font-family="Arial, sans-serif" font-size="10">Regular Nodes</text>
  <line x1="25" y1="570" x2="45" y2="570" class="edge"/>
  <text x="50" y="575" font-family="Arial, sans-serif" font-size="10">Connections</text>
  
</svg></div>
</div>
<div class="recent-traceroutes">
<h4><i class="fas fa-route"></i> Recent Traceroute Results</h4>
<table class="modern-table">
<thead>
<tr><th>Timestamp</th><th>Target</th><th>Status</th><th>Hops</th><th>Route Path</th></tr>
</thead>
<tbody>
<tr>
<td>2025-09-14T18:44:30</td>
<td>!277db5ca</td>
<td class="success">‚úÖ Success</td>
<td>4</td>
<td>!9eed0410 ‚Üí !fd17c0ed ‚Üí !a0cc8008 ‚Üí !277db5ca"2025-09-14T18:44:00 ‚Üí !ba656304 ‚Üí true ‚Üí 1 ‚Üí !ba656304</td>
</tr>
<tr>
<td>2025-09-14T18:43:30</td>
<td>!a0cc8008</td>
<td class="success">‚úÖ Success</td>
<td>2</td>
<td>!fd17c0ed ‚Üí !a0cc8008</td>
</tr>
<tr>
<td>2025-09-14T18:43:00</td>
<td>!2df67288</td>
<td class="success">‚úÖ Success</td>
<td>3</td>
<td>!9eed0410 ‚Üí !fd17c0ed ‚Üí !2df67288</td>
</tr>
<tr>
<td>2025-09-14T18:42:30</td>
<td>!2c9e092b</td>
<td class="danger">‚ùå No Route</td>
<td>0</td>
<td><em>NO_ROUTE</em></td>
</tr>
</tbody>
</table>
</div>
</div>
        </div>
        
        <div style="text-align: center; margin-top: 40px; padding: 20px; background: white; border-radius: 8px;">
            <p><strong>üéØ Demo Complete!</strong></p>
            <p>This demonstrates the full traceroute functionality integrated into the Meshtastic telemetry logger.</p>
            <p><em>In production, this runs automatically every hour and integrates seamlessly with the main dashboard.</em></p>
        </div>
    </div>
</body>
</html>
